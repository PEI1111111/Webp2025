<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>簡單打字機</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" 
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
</head>
<body class="text-center mt-5">

    <h2>打字匹配字串！</h2>
    <div id="container" tabindex="0" class="blockquote text-nowrap" style="font-size: 24px;"></div>

    <script>
        window.onload = function() {
            const container = document.getElementById("container");
            let currentString = generateRandomString(); 
            container.textContent = currentString;  
            window.addEventListener("keyup", function(e) {
                console.log(e.key); 
               
                if (currentString.length > 0 && e.key === currentString[0]) {
                   
                    currentString = currentString.slice(1);
                    container.textContent = currentString; 
                }
                addNewChars();
            });

            function addNewChars() {
                const numNewChars = Math.floor(Math.random() * 3) + 1;  
                for (let i = 0; i < numNewChars; i++) {
                    const randomChar = String.fromCharCode(97 + Math.floor(Math.random() * 26));  
                    currentString += randomChar;
                }
                container.textContent = currentString; 
            }

            function generateRandomString() {
                let randomString = '';
                const length = Math.floor(Math.random() * 3); 
                for (let i = 0; i < length; i++) {
                    const randomChar = String.fromCharCode(97 + Math.floor(Math.random() * 26));  
                    randomString += randomChar;
                }
                return randomString;
            }
        };
    </script>

</body>
</html>